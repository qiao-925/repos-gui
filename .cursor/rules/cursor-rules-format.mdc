---
description: "Cursor 规则文件格式规范"
globs:
  - ".cursor/rules/**/*.mdc"
  - ".cursorrules"
alwaysApply: true
priority: 10
---

# Cursor 规则文件格式规范

## ⚠️ 重要：规则文件版本说明

### 当前版本（必须使用）

**`.mdc` 格式是当前唯一有效的规则文件格式**

- **位置**：`.cursor/rules/` 目录下
- **格式**：`.mdc` 文件（Markdown with frontmatter）
- **状态**：✅ **当前版本，必须使用**

### 已过期版本（禁止使用）

**`.cursorrules` 文件已过期，不再使用**

- **位置**：项目根目录的 `.cursorrules` 文件
- **状态**：❌ **已过期，禁止使用**

## 强制要求

### 1. 创建新规则时

**必须**在 `.cursor/rules/` 目录下创建 `.mdc` 文件：

```
.cursor/rules/
  └── your-rule-name.mdc
```

### 2. 规则文件格式

每个 `.mdc` 文件**必须**包含以下 frontmatter：

```yaml
---
description: "规则描述"
globs:
  - "**/*.sh"
  - "**/*.js"
alwaysApply: true  # 或 false
priority: 1
---
```

### 3. 禁止操作

- ❌ **禁止**在项目根目录创建或修改 `.cursorrules` 文件
- ❌ **禁止**使用 `.cursorrules` 格式创建新规则
- ❌ **禁止**将规则内容添加到 `.cursorrules` 文件中

## AI Agent 行为要求

### 创建规则时

1. **必须**在 `.cursor/rules/` 目录下创建 `.mdc` 文件
2. **必须**使用正确的 frontmatter 格式
3. **必须**设置合适的 globs 模式
4. **禁止**创建或修改 `.cursorrules` 文件

### 修改规则时

1. **必须**修改 `.cursor/rules/*.mdc` 文件
2. **禁止**修改 `.cursorrules` 文件
3. 如果用户要求修改 `.cursorrules`，**必须**提醒用户使用 `.mdc` 格式

### 检查规则时

1. **优先**检查 `.cursor/rules/*.mdc` 文件
2. **忽略**项目根目录的 `.cursorrules` 文件（已过期）

## 示例

### ✅ 正确示例

```bash
# 创建新规则
创建文件：.cursor/rules/my-rule.mdc

内容：
---
description: "我的规则"
globs:
  - "**/*.sh"
alwaysApply: true
priority: 1
---

# 规则内容
...
```

### ❌ 错误示例

```bash
# 错误：在根目录创建 .cursorrules
创建文件：.cursorrules  # ❌ 禁止

# 错误：修改 .cursorrules
修改文件：.cursorrules  # ❌ 禁止
```

## 重要提醒

**`.mdc` 格式是 Cursor 规则文件的当前标准格式。**
**`.cursorrules` 文件已过期，不应再使用。**
**所有新规则必须创建在 `.cursor/rules/` 目录下，使用 `.mdc` 格式。**
